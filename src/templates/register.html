{% extends "layout.html" %}

{% block custom_stylesheets %}
<link href="/static/stylesheets/register.css" rel="stylesheet">
{% endblock %}

{% block body %}
<body>
  <div class="logo">
    <img src="/static/imgs/logo.png">
    <span class="register-title">用户注册</span>
    <span class="back-to-login"><a href="/login">返回登录</a></span>
  </div>
  <div class="container">
    <div class="row">
        <div class="col-md-2 order-md-1">
        </div>
        <div class="col-md-8 order-md-2">
            <form class="needs-validation" novalidate="">
                <h4 class="mb-3">基本信息</h4>
                <div class="mb-3">
                    <label for="email">邮箱地址</label>
                    <input type="email" class="form-control" id="email" placeholder="you@example.com" required="">
                    <div class="invalid-feedback">
                        请填写您的邮箱地址。
                    </div>
                </div>

                <div class="mb-3">
                    <label for="nickname">昵称</label>
                    <input type="text" class="form-control" id="nickname" placeholder="Nickname" required="">
                    <div class="invalid-feedback" style="width: 100%;">
                        请填写您的昵称。
                    </div>
                </div>

                <div class="mb-3">
                    <label for="password">密码</label>
                    <input type="password" class="form-control" id="password" required="">
                    <div class="invalid-feedback">
                        请填写密码。
                    </div>
                </div>

                <div class="mb-3">
                    <label for="password">确认密码</label>
                    <input type="password" class="form-control" id="password2" required="">
                    <div class="invalid-feedback" id="confirm-password-alert">
                        请填写密码。
                    </div>
                </div>

                <hr>
                <h4 class="mb-3">补充信息</h4>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="firstName">姓</label>
                        <input type="text" class="form-control" id="firstName" placeholder="" value="">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="lastName">名</label>
                        <input type="text" class="form-control" id="lastName" placeholder="" value="">
                    </div>
                </div>

                <div class="mb-3">
                    <label for="address">购物地址</label>
                    <input type="text" class="form-control" id="address">
                </div>

                <div class="mb-3">
                    <label for="address">手机号码</label>
                    <input type="text" class="form-control" id="address">
                </div>

                <button class="btn btn-primary btn-lg btn-block" type="submit">现在注册！</button>
            </form>
        </div>
    </div>
  </div>
</body>
{% endblock %}

{% block custom_javascripts %}
<script>
(function() {
    'use strict';

    window.addEventListener('load', function() {
    var checkPassword = function() {
        var pwd1 = document.getElementById("password");
        var pwd2 = document.getElementById("password2");
        var alert = document.getElementById("confirm-password-alert");
        if (pwd1.value !== pwd2.value) {
            alert.innerText = "请确认重复密码一致！"
        } else {
            alert.innerText = "请填写密码。";
        }
    }

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');

    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
            }
            form.classList.add('was-validated');
            checkPassword();
            }
        , false);
    });
    }, false);
})();
</script>
{% endblock %}